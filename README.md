# Ethereum-Solidity-SmartContracts

## What is ethereum network?

1. Ethereum networks are used to transfer money and store data
2. There are many different Ethereum networks(Test, private, and etc)
3. Networks are formed by one or more nodes
4. Each node is just a machine(Like your laptop) running an ethereum client
5. Anyone with machine can run a node via ethereum client
6. Each node can contain a full copy of the blockcahin(DB of transactions)
7. The blockchain is a db that stores a record of every transaction that's ever taken place

## Address & Keys

1. Account Address is like a user id or email address
2. public and private key combined works like a password
3. keys are used to authorize the sending of funds
4. keys stored of hexadecimal numbers
5. An account is used across every ethereum network (Doesn't mean you can't create more of them!)

## Transaction

1. An account is used across all networks, however tokens the account has is unique to the network
2. Transaction is a record that one account attemtpting to send money to another account
3. It is created whenever two accounts exchange money
4. During the demo, transaction object was created and sent to the ethereum network to be processed

### Properties of transaction object

1. nonce : # of times sender has sent a transaction
2. to : Address of receiver
3. value : Amount of ether to be sent
4. startGas/gasLimit : units of gas that this transaction can consume
5. v, r, s : These are generated by senders' private key to be used to generate the senders account address
6. If you have private key you can generate v, r, and s but not the other way around

## Transaction flow of demo

1. Submit form with receiver's address
2. server receives the address and create transaction object using web3 library
3. the server sends transaction object to the Rinkeby test network
4. the server **waits** for transaction to be confirmed
5. the server sends success message to the client

## Why wait?

1. Because it attempts to replace traditional financial system such as USD EURO and etc..
2. which is extremely complicated task

## In detail

1. Transaction is sent to a single node in a network
2. Assuming that there were two other transactions submitted to the node at the same time we submitted transaction,
3. The node creates a **block** that contains list of transactions
4. The node runs validation on the block which was the reason why there is some processing time before the transaction is complete
5. The validation processing is referred to the **Mining**

## BlockChain 101

### Hash, Block and Blockchain

1. **Hash** is like a fingerprint of some data after processed by hash function
2. You can get a hash out of data, regardless of its size. But you cannot guess what the data is out of hash
3. Block has block number, Nonce, data, and prev and hash
4. **Block** is signed when it's first four letters are all zeros 0000kjfljflkwelkfjlwkfe like so
5. Block number is a position of block in blockchain
6. prev is hash of previous block. Prev of first block is 00000000... all zeros
7. **Mining** is a process of finding value of **Nonce** that makes the block signed

### How blocks are intact

1. If you alter some arbitary block in the chain by changing its data,
2. You are essentially changing it's hash and will make it unsigned
3. You need to mine that block to make it singed again by changing its Nonce
4. But as the hash of this block is changed, the next block's hash is also altered.
5. So next block isn't signed anymore.
6. So basically altering a block results in altering all the following blocks which is extremely expensive as you go back in time more and more
7. This is how block chain **resists** against mutation

### Distributed BlockChain

1. Assuming that there are many numbers of blocks in the block chain
2. And many peers have complete copy of this block chain
3. We know that altering any block in the chain will eventully change the hash of next blocks
4. So by comparing very last hash of block in the chain with other peers' block chain,
5. The unaltered block chain easily dominates the altered block chain

### How to make this blockChain userful? Token!

1. The data part of block is used as token which contains list of transactions.
2. Because of nature of block and blockChain, recored of these transactions are **immutable**.

### Problem with current Block!

1. Transcactions in the block only contains who sent how much to whom.
2. Which bring a question of "does the sender actually has x amount of money to send?
3. What is the balance of a sender?

### Coinbase transaction

1. Coinbase transaction is a special transaction where sender is coinbase and receiver is some address
2. There is no previous of transaction flow to coinbase
3. So by tracking coinbase transaction and transaction between addresses,
4. We can now see if certain adress has balance to make the transaction or not.

### Applying general ideas to Ethereum

1. If you convert output hash which is hexadecimal number to decimal number, it results in some numbers, in base 10
2. In reality, what we are looking instead is this base 10 number, which is converted from hash output.
3. More specifically whether to evaluate whether the block is signed or not, we look at the hash in base 10 value and check whether it is lower than some number.
4. So mining is a process of finding hash output by changing nonce that is lower than some number in base 10

### Hash range

1. The hash output we're dealing with is hexadecimal number that is 64 digits long.
2. in decimal this is from 0 to 1.15 \* 10 ^ 77
